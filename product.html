<!-- public/product.html -->
<!DOCTYPE html>
<html>
<head><title>Product Details</title></head>
<body>
  <h1 id="name"></h1>
  <p id="desc"></p>
  <p id="price"></p>
  <button id="addBtn">Add to Cart</button>

  <script>
    // Get product ID from URL query string
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');

    // Fetch product details
    fetch(`/api/products/${id}`)
      .then(res => res.json())
      .then(product => {
        document.getElementById('name').textContent = product.name;
        document.getElementById('desc').textContent = product.description;
        document.getElementById('price').textContent = '$' + product.price;
      });

    // Add to cart when button clicked
    document.getElementById('addBtn').addEventListener('click', () => {
      fetch('/api/cart/add', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ id })
      })
      .then(res => res.json())
      .then(data => {
        alert('Added to cart!');
      });
    });
  </script>
</body>
</html>
